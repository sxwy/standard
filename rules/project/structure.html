<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组织结构 | standard</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="前端项目及编码规范">
    
    <link rel="preload" href="/standard/assets/css/0.styles.336f5e55.css" as="style"><link rel="preload" href="/standard/assets/js/app.eb8bcda8.js" as="script"><link rel="preload" href="/standard/assets/js/2.0a7b656f.js" as="script"><link rel="preload" href="/standard/assets/js/1.d355022b.js" as="script"><link rel="preload" href="/standard/assets/js/29.f5efb7cc.js" as="script"><link rel="prefetch" href="/standard/assets/js/10.baec7bff.js"><link rel="prefetch" href="/standard/assets/js/11.5bfe2f2e.js"><link rel="prefetch" href="/standard/assets/js/12.305f0fda.js"><link rel="prefetch" href="/standard/assets/js/13.c98462fe.js"><link rel="prefetch" href="/standard/assets/js/14.bd3c5f23.js"><link rel="prefetch" href="/standard/assets/js/15.744da8b1.js"><link rel="prefetch" href="/standard/assets/js/16.b2faa823.js"><link rel="prefetch" href="/standard/assets/js/17.13991897.js"><link rel="prefetch" href="/standard/assets/js/18.6d3b94c1.js"><link rel="prefetch" href="/standard/assets/js/19.f31d4cee.js"><link rel="prefetch" href="/standard/assets/js/20.f128975d.js"><link rel="prefetch" href="/standard/assets/js/21.47a2f90a.js"><link rel="prefetch" href="/standard/assets/js/22.ad7e4544.js"><link rel="prefetch" href="/standard/assets/js/23.88ae6e72.js"><link rel="prefetch" href="/standard/assets/js/24.5ecb7e30.js"><link rel="prefetch" href="/standard/assets/js/25.46789de7.js"><link rel="prefetch" href="/standard/assets/js/26.867e2c85.js"><link rel="prefetch" href="/standard/assets/js/27.f3e68f3b.js"><link rel="prefetch" href="/standard/assets/js/28.ec84ebf8.js"><link rel="prefetch" href="/standard/assets/js/3.b145a27f.js"><link rel="prefetch" href="/standard/assets/js/30.fef48b3d.js"><link rel="prefetch" href="/standard/assets/js/31.d5827fcf.js"><link rel="prefetch" href="/standard/assets/js/4.84e1e480.js"><link rel="prefetch" href="/standard/assets/js/5.ec64afb2.js"><link rel="prefetch" href="/standard/assets/js/6.821ed025.js"><link rel="prefetch" href="/standard/assets/js/7.589debdf.js"><link rel="prefetch" href="/standard/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/standard/assets/css/0.styles.336f5e55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/standard/" class="home-link router-link-active"><img src="/standard/images/logo.png" alt="standard" class="logo"> <span class="site-name can-hide">standard</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/standard/rules/base/why.html" class="nav-link">
  规范
</a></div><div class="nav-item"><a href="/standard/guide/project/combat.html" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="https://github.com/sxwy/standard" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源代码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/standard/rules/base/why.html" class="nav-link">
  规范
</a></div><div class="nav-item"><a href="/standard/guide/project/combat.html" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="https://github.com/sxwy/standard" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源代码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/standard/rules/base/why.html" class="sidebar-link">why</a></li><li><a href="/standard/rules/base/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/standard/rules/base/installation.html" class="sidebar-link">安装</a></li><li><a href="/standard/rules/base/configuration.html" class="sidebar-link">配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/standard/rules/project/structure.html" aria-current="page" class="active sidebar-link">项目结构</a></li><li><a href="/standard/rules/project/version.html" class="sidebar-link">版本管理</a></li><li><a href="/standard/rules/project/archive.html" class="sidebar-link">归档管理</a></li><li><a href="/standard/rules/project/template.html" class="sidebar-link">项目模板</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组织结构"><a href="#组织结构" class="header-anchor">#</a> 组织结构</h1> <p><img src="/standard/images/rules_project_structure_schema.jpg" alt="structure.jpg"></p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── dist <span class="token comment">####################################### 构建输出路径</span>
├── mock <span class="token comment">####################################### 接口模拟配置</span>
├── public <span class="token comment">##################################### 静态资源（非打包）</span>
├── src <span class="token comment">######################################## 源代码</span>
│   ├── api <span class="token comment">#################################### 网络请求层</span>
│   ├── assets <span class="token comment">################################# 全局公共资源（打包）</span>
│   │   ├── images <span class="token comment">############################# 图片资源</span>
│   │   │   └── 模块_类别_功能_状态.扩展名
│   │   └── fonts <span class="token comment">############################## 字体资源</span>
│   ├── components <span class="token comment">############################# 全局公共组件</span>
│   ├── config <span class="token comment">################################# 全局配置</span>
│   ├── hooks <span class="token comment">################################## 全局公共 Hooks</span>
│   ├── pages/views <span class="token comment">############################ 路由页面</span>
│   │   ├── xxx <span class="token comment">################################ 业务模块</span>
│   │   │   ├── xxx1 <span class="token comment">########################### 业务组件子模块 1</span>
│   │   │   ├── xxx2 <span class="token comment">########################### 业务组件子模块 2</span>
│   │   │   └── xxx3 <span class="token comment">########################### 业务组件子模块 3</span>
│   │   ├── yyy <span class="token comment">################################ 业务模块</span>
│   │   └── zzz <span class="token comment">################################ 业务模块</span>
│   ├── <span class="token function">service</span> <span class="token comment">################################ 业务逻辑层</span>
│   ├── store <span class="token comment">################################## 全局状态管理</span>
│   ├── types <span class="token comment">################################## 全局公共类型</span>
│   ├── utils <span class="token comment">################################## 全局公共工具</span>
│   ├── global.d.ts <span class="token comment">############################ 全局类型定义</span>
│   └── main.ts <span class="token comment">################################ 应用入口</span>
├── .editorconfig <span class="token comment">############################## 编辑器通用配置</span>
├── .eslintrc.js <span class="token comment">############################### JS 审查配置</span>
├── .gitignore <span class="token comment">################################# 版本管理配置</span>
├── .npmrc <span class="token comment">##################################### 依赖管理配置</span>
├── .prettierrc.js <span class="token comment">############################# 代码格式化配置</span>
├── .stylelintrc.js <span class="token comment">############################ 样式审查配置</span>
├── README.md <span class="token comment">################################## 项目开发说明</span>
├── babel.config.js <span class="token comment">############################ 编译配置</span>
├── package-lock.json <span class="token comment">########################## 依赖版本锁</span>
├── package.json <span class="token comment">############################### 项目配置</span>
└── tsconfig.json <span class="token comment">############################## TypeScript 配置</span>
</code></pre></div><h2 id="静态资源-非打包"><a href="#静态资源-非打包" class="header-anchor">#</a> 静态资源（非打包）</h2> <p><code>./public/</code> 用于放置非打包的静态资源，例如：HTML 模板、图片和字体等素材。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── <span class="token punctuation">..</span>.
├── public <span class="token comment">##################################### 静态资源（非打包）</span>
│   ├── static <span class="token comment">################################# 静态资源</span>
│   │   ├── styles <span class="token comment">############################# 样式资源</span>
│   │   ├── fonts <span class="token comment">############################## 字体资源</span>
│   │   ├── images <span class="token comment">############################# 图片资源</span>
│   │   └── sctipts <span class="token comment">############################ 脚本资源</span>
│   └── index.html <span class="token comment">############################# HTML 模板</span>
└──
</code></pre></div><p>ps：一般静态资源都需要放在源代码中作为模块依赖引入，在使用前端工具构建打包后会进行自动优化（较小的资源转成 base64，较大的资源以源文件的形式拷贝到输出目录，且在资源文件名后追加 hash 值，所以和源代码里面的资源主要区别在于文件是否版本化管理了）。如果需要在代码里配置静态资源的访问路径，那么就可以把静态资源放在 <code>./public/</code> 目录下，然后拼上站点地址即可访问图片，例如一些需要配置传给客户端的图标资源和分享图片。</p> <h2 id="源代码"><a href="#源代码" class="header-anchor">#</a> 源代码</h2> <p><code>./src/</code> 用于放置源代码，其根目录下主要放置一些全局公共模块，除此之外是业务模块一般放在路由目录下，通常命名为 pages 或 views。</p> <h3 id="网络请求"><a href="#网络请求" class="header-anchor">#</a> 网络请求</h3> <p>网络请求层封装了不同域名或服务的网络请求实例，一般统一以域名维度划分且命名为 <code>xxxApi</code>，如果有些特定的服务需要特殊的拦截器和配置，那么可以按服务命名，例如 <code>memberApi</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── api <span class="token comment">##################################### 网络请求层</span>
│   │   ├── baseApi <span class="token comment">############################# https://api.host.cn</span>
│   │   ├── xxxApi <span class="token comment">############################## https://xxx-api.host.cn</span>
│   │   ├── yyyApi <span class="token comment">############################## https://yyy-api.host.cn</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><p>ps：类似接口模拟配置，建议按下面的统一方式命名。</p> <ul><li>baseApi：https://api.host.cn</li> <li>xxxApi：https://xxx-api.host.cn</li> <li>yyyApi：https://yyy-api.host.cn</li></ul> <h3 id="公共资源"><a href="#公共资源" class="header-anchor">#</a> 公共资源</h3> <p>公共资源目录放置了全局可复用的静态资源，静态资源一把命名为 <code>模块_类别_功能_状态.扩展名</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── api <span class="token comment">#################################### 网络请求层（封装了各个域名的请求工具哈数）</span>
│   ├── assets <span class="token comment">################################# 静态资源目录（打包）</span>
│   │   ├── images <span class="token comment">############################# 图片资源</span>
│   │   │   └── 模块_类别_功能_状态.扩展名
│   │   └── fonts <span class="token comment">############################## 字体资源</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><h3 id="公共组件"><a href="#公共组件" class="header-anchor">#</a> 公共组件</h3> <p>公共组件层目录封装了全局通用的可复用组件，一般采用大驼峰命名法，例如 <code>Xyz</code>（个别技术栈需要区分命名，例如：uni-app 一般以 <code>c-</code> 作为前缀，统一使用小写字母，多个单词使用连字符号）。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── components <span class="token comment">############################# 公共组件目录</span>
│   │   ├── Xxx <span class="token comment">################################ 公共组件模块</span>
│   │   │   └── index.js
│   │   ├── Yyy <span class="token comment">################################ 公共组件模块</span>
│   │   │   └── index.js
│   │   └── index <span class="token comment">############################## 输出路径</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><h3 id="公共配置"><a href="#公共配置" class="header-anchor">#</a> 公共配置</h3> <p>公共配置层封装了全局公共的常量配置，其下的模块一般以小驼峰，一般以大写字母和下划线命名的变量形式输出。如果常量配置较多，可以按功能进行划分，例如：页面相关的变量放在 page 模块，站点地址相关的常量放在 site 目录下，其他不确定的统一放 constants 模块下。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── config <span class="token comment">################################# 全局配置目录</span>
│   │   ├── constants <span class="token comment">########################## 不确定模块的常量配置</span>
│   │   ├── page <span class="token comment">############################### 页面路由相关的常量配置</span>
│   │   └── site <span class="token comment">############################### 站点地址相关的常量配置</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><h3 id="公共-hooks"><a href="#公共-hooks" class="header-anchor">#</a> 公共 Hooks</h3> <p>公共 Hooks 目录主要针对 Hook API 的 react 和 vue 等框架，封装了全局公共的 Hook，一般命名为 <code>useXyz</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>
```shell
├── src
│   ├── hooks ################################## 全局公共 Hooks 目录
│   │   └── useXyz
├── ...
</code></pre></div><h3 id="路由页面-业务模块"><a href="#路由页面-业务模块" class="header-anchor">#</a> 路由页面（业务模块）</h3> <p>路由页面目录一般按业务模块进行划分（禁止按 UI 状态划分），模块目录以小写字母和连字符号组成，一般子路径等价于路由注册路径。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── pages/views <span class="token comment">############################ 路由页面目录</span>
│   │   ├── xxx <span class="token comment">################################ 业务模块目录</span>
│   │   │   ├── xxx-1 <span class="token comment">########################### 业务子模块 1</span>
│   │   │   ├── xxx-2 <span class="token comment">########################### 业务子模块 2</span>
│   │   │   ├── components <span class="token comment">##################### 业务模块公共组件目录</span>
│   │   │   │   ├── Xxx <span class="token comment">######################## 公共组件模块</span>
│   │   │   │   │   └── index.js
│   │   │   │   ├── Yyy <span class="token comment">######################## 公共组件模块</span>
│   │   │   │   │   └── index.js
│   │   │   │   └── index <span class="token comment">###################### 输出路径</span>
│   │   │   ├── images <span class="token comment">########################## 业务模块公共工具目录</span>
│   │   │   ├── utils <span class="token comment">########################## 业务模块公共工具目录</span>
│   │   │   ├── index.<span class="token punctuation">{</span>tsx<span class="token operator">|</span>vue<span class="token punctuation">}</span> <span class="token comment">################ 业务模块入口页面</span>
│   │   │   ├── list.<span class="token punctuation">{</span>tsx<span class="token operator">|</span>vue<span class="token operator">|</span> <span class="token comment">################# 业务模块列表页面</span>
│   │   │   ├── detail.<span class="token punctuation">{</span>tsx<span class="token operator">|</span>vue<span class="token punctuation">}</span> <span class="token comment">############### 业务模块详情页面</span>
│   │   │   ├── service.ts <span class="token comment">##################### 业务模块业务逻辑实现</span>
│   │   │   └── type.ts <span class="token comment">######################## 业务模块类似定义</span>
│   │   ├── yyy <span class="token comment">################################ 业务员模块目录</span>
│   │   └── zzz <span class="token comment">################################ 业务员模块目录</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><p>要点：</p> <ol><li><p>路由页面目录一定要按业务模块划分，不能以产品原型或设计的布局划分。</p> <p>产品原型和设计一般变化频率较高，一个位置今天可能显示模块 A，明天可能显示模块 B。如果按显示去划分子目录，后期应对变化的扩展性会变得很差。此外，编码过程中一定要遵循低耦合高内聚的原则，同一个业务模块的功能应该放在同一个目录下，方便代码的重用和解耦。</p></li> <li><p>模块目录和路由组件要以小写字母和连字符号命名，主要目的是为了区分非路由目录和组件，更加方便维护者知晓当前模块下有哪些路由，以及跟进路由快速定位源代码；</p></li> <li><p>除了路由组件外，其他的代码按功能可以划分为 components、utils、service 和 type</p> <ul><li>components：该业务模块下可复用的公共组件</li> <li>images：该业务模块下可复用的公共组件</li> <li>utils：该业务模块下可复用的公共工具函数</li> <li>service：该业务模块下的业务接口请求逻辑封装</li> <li>type：该业务模块下的公共数据（业务和 UI 状态）类型</li></ul></li> <li><p>模块可以互相嵌套，一个大模块下面包含多个子模块，子模块相关的实现放在主模块的子目录下。</p></li></ol> <p>ps：路由页面不仅仅是放置路由组件的，更应该是当做业务模块目录，不同业务模块的公共组件和 API 就应该放在该路由下的模块目录里，而不是全部都放在全局目录下。此外，如果有模块之间需要相互引用公共组件，如果该组件跟业务无关，那么可以提取到全局目录下，否则不允许路由模块之间的相互引用。</p> <p>参考：<a href="/standard/guide/project/structure-in-action.html">项目结构优化实战</a></p> <h3 id="业务逻辑层"><a href="#业务逻辑层" class="header-anchor">#</a> 业务逻辑层</h3> <p>业务逻辑层封装了全局可复用的业务逻辑(服务端的接口请求)，其下的文件按业务模块划分，一般命名为 <code>xxxService</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src
│   ├── <span class="token function">service</span> <span class="token comment">################################ 业务逻辑层</span>
│   │   ├── abtestService.ts <span class="token comment">################### AB 测试相关的公共业务逻辑</span>
│   │   ├── memberService.ts <span class="token comment">################### 会员相关的公共业务逻辑</span>
│   │   └── userService.ts <span class="token comment">##################### 用户相关的公共业务逻辑</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><p>要点：业务逻辑层主要是针对服务端接口调用的封装，需要在每个方法上提供好相关的接口文档链接、入参和返回说明。此外，在一些复杂的业务场景下需要组合多个接口调用，以及对接口返回值进行封装处理，统一业务数据模型。</p> <h3 id="全局状态管理"><a href="#全局状态管理" class="header-anchor">#</a> 全局状态管理</h3> <p><code>./src/store</code> 封装了全局状态管理模块。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src <span class="token comment">######################################## 源代码</span>
│   ├── store <span class="token comment">################################## 全局状态管理</span>
│   │   ├── user.ts <span class="token comment">############################ 用户管理模块</span>
│   │   └── index.ts <span class="token comment">########################### 对外输出模块</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><h3 id="公共类型层"><a href="#公共类型层" class="header-anchor">#</a> 公共类型层</h3> <p><code>./src/types</code> 封装了全局公共的业务类型（类似于服务端的数据表实体），一般以业务模块划分供全局使用，也方便维护者快速熟悉业务。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>├── src <span class="token comment">######################################## 源代码</span>
│   ├── store <span class="token comment">################################## 全局状态管理</span>
│   │   ├── member.ts <span class="token comment">########################## 会员业务类型</span>
│   │   ├── user.ts <span class="token comment">############################ 用户业务类型</span>
│   │   └── index.ts <span class="token comment">########################### 对外输出模块</span>
├── <span class="token punctuation">..</span>.
</code></pre></div><p>要点：业务类型指的是跟业务相关的数据结构类型（使用 TS interface 定义），例如：会员模块相关的业务类型有会员卡类型，用户模块相关的业务类型有用户个人信息类型，用户会员信息类型等。不同的业务模块类型可以相互引用。</p> <h3 id="公共工具层"><a href="#公共工具层" class="header-anchor">#</a> 公共工具层</h3> <p><code>./src/utils</code> 主要放置全局可复用的一些工具函数。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/standard/rules/base/configuration.html" class="prev">
        配置
      </a></span> <span class="next"><a href="/standard/rules/project/version.html">
        版本管理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/standard/assets/js/app.eb8bcda8.js" defer></script><script src="/standard/assets/js/2.0a7b656f.js" defer></script><script src="/standard/assets/js/1.d355022b.js" defer></script><script src="/standard/assets/js/29.f5efb7cc.js" defer></script>
  </body>
</html>
